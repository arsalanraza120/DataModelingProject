  <div class="content-wrapper container-xxl p-0">
    <div class="content-body">
      <!-- Content types -->
      <section id="card-content-types">
        <h5 class="mt-3">Connections</h5>
        <div class="row">
          <ng-container *ngFor="let credentials of credentialsList">
            <ng-container *ngFor="let _ of generateArray(credentials.count); let i = index">
              <div class="col-md-6 col-lg-4">
                <div class="card mb-4"(click)="fetchData(credentials.credentials[i])">
                <button class="close-button" (click)="deleteCredentials(credentials.credentials[i].id)">X</button>
                  <div class="card-body">
                    <h5>Credential Name: {{ credentials.credentials[i].credentialName }}</h5>
                    <p class="custom-p">Host: {{ credentials.credentials[i].host }}</p>
                    <p class="custom-p">Port: {{ credentials.credentials[i].port }}</p>
                    <p class="custom-p">User ID: {{ credentials.credentials[i].userId }}</p>
                    <p class="custom-p">Password: {{ credentials.credentials[i].password }}</p>
                    <p class="custom-p">DBName: {{ credentials.credentials[i].dbName }}</p>
                    <p class="custom-p">DBType: {{ credentials.credentials[i].dbType }}</p>
                   </div>
                </div>
              </div>
            </ng-container>
          </ng-container>
        </div>
      </section>
 
     
       <div class="table-container">
        <div *ngFor="let table of tables" class="table-wrapper">
          <h2>{{ table.tableName }}</h2>
          <table>
            <tr>
              <th>Column Name</th>
              <th>Data Type</th>
              <th>Keys</th>
            </tr>
            <tr *ngFor="let column of table.columns">
              <td>{{ column.columnName }}</td>
              <td>{{ column.dataType }} <span *ngIf="column.size !== undefined && column.size !== null && column.size !== ''">({{ column.size }})</span></td>

              <td *ngIf="column.isPrimaryKey"><i class="fa fa-key icon-primary"></i></td>
              <td *ngIf="column.isForeignKey"><i class="fa fa-key icon-foreign"></i></td>
            </tr>
          </table>
        </div>
      </div> 
<!-- 
      <ngx-graph
      [view]="view"
      [nodes]="nodes"
      [links]="links"
      [autoZoom]="true"
      [panOnZoom]="true"
    >
    </ngx-graph> -->

    <div #erDiagram></div>

    <div id="er-diagram"></div>
    </div>
  </div>

  
  <!-- <div *ngIf="databaseModel">
    {{ databaseModel | json }}

     <div *ngFor="let tableName of Object.keys(databaseModel)">
      <h2>{{ tableName }}</h2>
      <ul>
        <li *ngFor="let column of databaseModel[tableName]?.columns">
          {{ column?.columnName }} - {{ column?.dataType }}
          <ng-container *ngIf="databaseModel[tableName]?.primaryKeys?.includes(column?.columnName)">
            <span class="icon primary-key-icon">PK</span>
          </ng-container>
          <ng-container *ngIf="isColumnForeignKey(tableName, column?.columnName)">
            <span class="icon foreign-key-icon">FK</span>
          </ng-container>
        </li>
      </ul>
    </div> 
  </div> -->
  

  
  
  
